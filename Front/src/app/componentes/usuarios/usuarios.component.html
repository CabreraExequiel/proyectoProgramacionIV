<div class="usuarios-container">
  <h2>ðŸ‘¥ Usuarios Registrados</h2>

  <!-- ðŸ”¹ Estado de carga -->
  <div *ngIf="cargando" class="cargando">Cargando usuarios...</div>

  <!-- ðŸ”¹ Mensaje de error -->
  <div *ngIf="error" class="error">{{ error }}</div>

  <!-- ðŸ”¹ Tabla de usuarios (solo si hay resultados) -->
  <table
    *ngIf="!cargando && usuarios.length > 0 && esAdmin"
    class="tabla-usuarios"
  >
    <thead>
      <tr>
        <th>ID</th>
        <th>Nombre</th>
        <th>Email</th>
        <th>Rol</th>
        <th>TelÃ©fono</th>
        <th>Fecha Registro</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let u of usuarios">
        <td>{{ u.id }}</td>
        <td>{{ u.name }}</td>
        <td>{{ u.email }}</td>
        <td>
          <span
            [class.admin]="u.role === 'administrador'"
            [class.usuario]="u.role === 'usuario'"
          >
            {{ u.role }}
          </span>
        </td>
        <td>{{ u.telefono || "â€”" }}</td>
        <td>{{ u.created_at | date : "dd/MM/yyyy HH:mm" }}</td>
      </tr>
    </tbody>
  </table>

  <!-- ðŸ”¹ Sin usuarios -->
  <p *ngIf="!cargando && usuarios.length === 0 && esAdmin" class="vacio">
    No hay usuarios registrados.
  </p>

  <!-- ðŸ”¹ BotÃ³n de logout -->
  <div class="text-center">
    <button (click)="cerrarSesion()" class="btn-cerrar">Cerrar sesiÃ³n</button>
  </div>
</div>
