<!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"> -->

<div class="dashboard-container">
  <h2>📊 Panel de Administración</h2>

  <div *ngIf="loading">⏳ Cargando métricas...</div>
  <div *ngIf="error">❌ Error al cargar métricas</div>

  <div *ngIf="!loading && !error">
    <div class="metric-grid">

      <div class="metric-card" (click)="mostrarDetalle('ocupacion')">
      <h3>Ocupación actual</h3>
      <p>{{ ocupacion !== null ? ocupacion + '%' : '--%' }}</p>
    </div>

    <div class="metric-card" (click)="mostrarDetalle('reservasActivas')">
      <h3>Reservas activas</h3>
      <p>{{ reservasActivas }}</p>
    </div>
  </div>

    <div class="progress-bar-container">
      <div class="progress-bar-fill" [style.width.%]="ocupacion"></div>
    </div>

    <div *ngIf="selectedCard === 'reservasActivas'">
      <h3>📅 Reservas Activas</h3>
      <table class="table">
        <thead>
          <tr>
            <th>Cliente</th>
            <th>Cancha</th>
            <th>Horario</th>
            <th>Estado</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let reserva of reservasActivasList">
            <td>{{ reserva.cliente }}</td>
            <td>{{ reserva.cancha }}</td>
            <td>{{ reserva.hora_inicio }} - {{ reserva.hora_fin }}</td>
            <td>
              <span class="badge bg-success">{{ reserva.estado }}</span>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
